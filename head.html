<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nuclear Company Directory</title>

    <style>
        /*table, th, td {*/
        /*    border: 1px solid black;*/
        /*}*/
    </style>

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">
    <script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>
    <script type="text/javascript" charset="utf8">
        $(document).ready( function () {
            $('#directory-table').DataTable({
                "paging": false,
                "order": [[2, 'asc'], [3, 'dsc']],
                "columnDefs": [
                    {
                        targets: [0,1,2,3,4],
                        className: 'dt-body-center'
                    }
                ],
                "rowCallback": function(row, data, index) {
                    let companyName = data[1].replace(/\s+/g, '').toLowerCase(); // Strip whitespace and make lowercase
                    if (companyName.includes('hiring') || companyName.includes('hire')) {
                        $('td', row).css('background-color', '#ffc8008c');
                    }

                    let positions = data[4];
                    let positionsSplit = positions.split('/');
                    if(positionsSplit[0] !== positionsSplit[1]) {
                        $(row).find('td:eq(4)').css('background-color', '#f75e5ead');
                    }
                }
            });
        } );
    </script>
</head>